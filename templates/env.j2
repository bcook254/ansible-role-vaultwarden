{{ ansible_managed | comment }}

DATA_FOLDER={{ vaultwarden_data_dir }}
DATABASE_URL={% if vaultwarden_database_url is defined %}
{{ vaultwarden_database_url }}
{% elif vaultwarden_database is defined and (vaultwarden_database == 'mysql' or vaultwarden_database == 'postgres') %}
{{ vaultwarden_database }}{% if vaultwarden_database == 'postgres' %}ql{% endif %}://{{ vaultwarden_database_username | urlencode }}:{{ vaultwarden_database_password | urlencode }}@{{ vaultwarden_database_host | default('127.0.0.1') }}:{{ vaultwarden_database_port | default((vaultwarden_database == 'postgres') | ternary('5432', '3306')) }}/{{ vaultwarden_database_name }}
{% else %}
{{ vaultwarden_data_dir }}/{{ vaultwarden_database_name }}.sqlite3
{% endif %}
{% if vaultwarden_database_max_conns is defined %}
DATABASE_MAX_CONNS={{ vaultwarden_database_max_conns }}
{% endif %}
{% if vaultwarden_database_timeout is defined %}
DATABASE_TIMEOUT={{ vaultwarden_database_timeout }}
{% endif %}
{% if vaultwarden_database_conn_init is defined %}
DATABASE_CONN_INIT={{ vaultwarden_database_conn_init }}
{% endif %}
{% if vaultwarden_rsa_key_filename is defined %}
RSA_KEY_FILENAME={{ vaultwarden_rsa_key_filename }}
{% endif %}
{% if vaultwarden_icon_cache_folder is defined %}
ICON_CACHE_FOLDER={{ vaultwarden_icon_cache_folder }}
{% endif %}
{% if vaultwarden_attachments_folder is defined %}
ATTACHMENTS_FOLDER={{ vaultwarden_attachments_folder }}
{% endif %}
{% if vaultwarden_sends_folder is defined %}
SENDS_FOLDER={{ vaultwarden_sends_folder }}
{% endif %}
{% if vaultwarden_tmp_folder is defined %}
TMP_FOLDER={{ vaultwarden_tmp_folder }}
{% endif %}
{% if vaultwarden_templates_folder is defined %}
TEMPLATES_FOLDER={{ vaultwarden_templates_folder }}
{% endif %}
{% if vaultwarden_reload_templates is defined %}
RELOAD_TEMPLATES={{ vaultwarden_reload_templates }}
{% endif %}
{% if vaultwarden_ip_header is defined %}
IP_HEADER={{ vaultwarden_ip_header }}
{% endif %}
{% if vaultwarden_icon_cache_ttl is defined %}
ICON_CACHE_TTL={{ vaultwarden_icon_cache_ttl }}
{% endif %}
{% if vaultwarden_icon_cache_negttl is defined %}
ICON_CACHE_NEGTTL={{ vaultwarden_icon_cache_negttl }}
{% endif %}
WEB_VAULT_FOLDER={{ vaultwarden_web_vault_dir }}
{% if vaultwarden_web_vault_enabled is defined %}
WEB_VAULT_ENABLED={{ vaultwarden_web_vault_enabled }}
{% endif %}
{% if vaultwarden_enable_websocket is defined %}
ENABLE_WEBSOCKET={{ vaultwarden_enable_websocket }}
{% endif %}
{% if vaultwarden_sends_allowed is defined %}
SENDS_ALLOWED={{ vaultwarden_sends_allowed }}
{% endif %}
{% if vaultwarden_emergency_access_allowed is defined %}
EMERGENCY_ACCESS_ALLOWED={{ vaultwarden_emergency_access_allowed }}
{% endif %}
{% if vaultwarden_org_events_enabled is defined %}
ORG_EVENTS_ENABLED={{ vaultwarden_org_events_enabled }}
{% endif %}
{% if vaultwarden_email_change_allowed is defined %}
EMAIL_CHANGE_ALLOWED={{ vaultwarden_email_change_allowed }}
{% endif %}
{% if vaultwarden_events_days_retains is defined %}
EVENTS_DAYS_RETAIN={{ vaultwarden_events_days_retains }}
{% endif %}
{% if vaultwarden_auth_request_purge_schedule is defined %}
AUTH_REQUEST_PURGE_SCHEDULE={{ vaultwarden_auth_request_purge_schedule }}
{% endif %}
{% if vaultwarden_duo_context_purge_schedule is defined %}
DUO_CONTEXT_PURGE_SCHEDULE={{ vaultwarden_duo_context_purge_schedule }}
{% endif %}
{% if vaultwarden_org_groups_enabled is defined %}
ORG_GROUPS_ENABLED={{ vaultwarden_org_groups_enabled }}
{% endif %}
{% if vaultwarden_increase_note_size_limit is defined %}
INCREASE_NOTE_SIZE_LIMIT={{ vaultwarden_increase_note_size_limit }}
{% endif %}
{% if vaultwarden_enforce_single_org_with_reset_pw_policy is defined %}
ENFORCE_SINGLE_ORG_WITH_RESET_PW_POLICY={{ vaultwarden_enforce_single_org_with_reset_pw_policy }}
{% endif %}
{% if vaultwarden_job_poll_interval_ms is defined %}
JOB_POLL_INTERVAL_MS={{ vaultwarden_job_poll_interval_ms }}
{% endif %}
{% if vaultwarden_send_purge_schedule is defined %}
SEND_PURGE_SCHEDULE={{ vaultwarden_send_purge_schedule }}
{% endif %}
{% if vaultwarden_trash_purge_schedule is defined %}
TRASH_PURGE_SCHEDULE={{ vaultwarden_trash_purge_schedule }}
{% endif %}
{% if vaultwarden_incomplete_2fa_schedule is defined %}
INCOMPLETE_2FA_SCHEDULE={{ vaultwarden_incomplete_2fa_schedule }}
{% endif %}
{% if vaultwarden_emergency_notification_reminder_schedule is defined %}
EMERGENCY_NOTIFICATION_REMINDER_SCHEDULE={{ vaultwarden_emergency_notification_reminder_schedule }}
{% endif %}
{% if vaultwarden_emergency_request_timeout_schedule is defined %}
EMERGENCY_REQUEST_TIMEOUT_SCHEDULE={{ vaultwarden_emergency_request_timeout_schedule }}
{% endif %}
{% if vaultwarden_extended_logging is defined %}
EXTENDED_LOGGING={{ vaultwarden_extended_logging }}
{% endif %}
{% if vaultwarden_log_timestamp_format is defined %}
LOG_TIMESTAMP_FORMAT={{ vaultwarden_log_timestamp_format }}
{% endif %}
{% if vaultwarden_log_file is defined %}
LOG_FILE={{ vaultwarden_log_file }}
{% endif %}
{% if vaultwarden_use_syslog is defined %}
USE_SYSLOG={{ vaultwarden_use_syslog }}
{% endif %}
{% if vaultwarden_log_level is defined %}
LOG_LEVEL={{ vaultwarden_log_level }}
{% endif %}
{% if vaultwarden_enable_db_wal is defined %}
ENABLE_DB_WAL={{ vaultwarden_enable_db_wal }}
{% endif %}
{% if vaultwarden_db_connection_retries is defined %}
DB_CONNECTION_RETRIES={{ vaultwarden_db_connection_retries }}
{% endif %}
{% if vaultwarden_icon_service is defined %}
ICON_SERVICE={{ vaultwarden_icon_service }}
{% endif %}
{% if vaultwarden_icon_redirect_code is defined %}
ICON_REDIRECT_CODE={{ vaultwarden_icon_redirect_code }}
{% endif %}
{% if vaultwarden_disable_icon_download is defined %}
DISABLE_ICON_DOWNLOAD={{ vaultwarden_disable_icon_download }}
{% endif %}
{% if vaultwarden_icon_download_timeout is defined %}
ICON_DOWNLOAD_TIMEOUT={{ vaultwarden_icon_download_timeout }}
{% endif %}
{% if vaultwarden_http_request_block_regex is defined %}
HTTP_REQUEST_BLOCK_REGEX={{ vaultwarden_http_request_block_regex }}
{% endif %}
{% if vaultwarden_http_request_block_non_global_ips is defined %}
HTTP_REQUEST_BLOCK_NON_GLOBAL_IPS={{ vaultwarden_http_request_block_non_global_ips }}
{% endif %}
{% if vaultwarden_disable_2fa_remember is defined %}
DISABLE_2FA_REMEMBER={{ vaultwarden_disable_2fa_remember }}
{% endif %}
{% if vaultwarden_email_attempts_limit is defined %}
EMAIL_ATTEMPTS_LIMIT={{ vaultwarden_email_attempts_limit }}
{% endif %}
{% if vaultwarden_email_2fa_enforce_on_verified_invite is defined %}
EMAIL_2FA_ENFORCE_ON_VERIFIED_INVITE={{ vaultwarden_email_2fa_enforce_on_verified_invite }}
{% endif %}
{% if vaultwarden_email_2fa_auto_fallback is defined %}
EMAIL_2FA_AUTO_FALLBACK={{ vaultwarden_email_2fa_auto_fallback }}
{% endif %}
{% if vaultwarden_email_expiration_time is defined %}
EMAIL_EXPIRATION_TIME={{ vaultwarden_email_expiration_time }}
{% endif %}
{% if vaultwarden_email_token_size is defined %}
EMAIL_TOKEN_SIZE={{ vaultwarden_email_token_size }}
{% endif %}
{% if vaultwarden_signups_allowed is defined %}
SIGNUPS_ALLOWED={{ vaultwarden_signups_allowed }}
{% endif %}
{% if vaultwarden_signups_verify is defined %}
SIGNUPS_VERIFY={{ vaultwarden_signups_verify }}
{% endif %}
{% if vaultwarden_signups_verify_resend_time is defined %}
SIGNUPS_VERIFY_RESEND_TIME={{ vaultwarden_signups_verify_resend_time }}
{% endif %}
{% if vaultwarden_signups_verify_resend_limit is defined %}
SIGNUPS_VERIFY_RESEND_LIMIT={{ vaultwarden_signups_verify_resend_limit }}
{% endif %}
{% if vaultwarden_signups_domains_whitelist is defined %}
SIGNUPS_DOMAINS_WHITELIST={{ vaultwarden_signups_domains_whitelist }}
{% endif %}
{% if vaultwarden_org_creation_users is defined %}
ORG_CREATION_USERS={{ vaultwarden_org_creation_users }}
{% endif %}
{% if vaultwarden_org_creation_users is defined %}
ORG_CREATION_USERS={{ vaultwarden_org_creation_users }}
{% endif %}
{% if vaultwarden_org_creation_users is defined %}
ORG_CREATION_USERS={{ vaultwarden_org_creation_users }}
{% endif %}
{% if vaultwarden_admin_token is defined %}
ADMIN_TOKEN='{{ vaultwarden_admin_token }}'
{% endif %}
{% if vaultwarden_disable_admin_token is defined %}
DISABLE_ADMIN_TOKEN={{ vaultwarden_disable_admin_token }}
{% endif %}
{% if vaultwarden_invitations_allowed is defined %}
INVITATIONS_ALLOWED={{ vaultwarden_invitations_allowed }}
{% endif %}
{% if vaultwarden_invitation_org_name is defined %}
INVITATION_ORG_NAME={{ vaultwarden_invitation_org_name }}
{% endif %}
{% if vaultwarden_invitation_expiration_hours is defined %}
INVITATION_EXPIRATION_HOURS={{ vaultwarden_invitation_expiration_hours }}
{% endif %}
{% if vaultwarden_org_attachment_limit is defined %}
ORG_ATTACHMENT_LIMIT={{ vaultwarden_org_attachment_limit }}
{% endif %}
{% if vaultwarden_user_attachment_limit is defined %}
USER_ATTACHMENT_LIMIT={{ vaultwarden_user_attachment_limit }}
{% endif %}
{% if vaultwarden_trash_auto_delete_days is defined %}
TRASH_AUTO_DELETE_DAYS={{ vaultwarden_trash_auto_delete_days }}
{% endif %}
{% if vaultwarden_incomplete_2fa_time_limit is defined %}
INCOMPLETE_2FA_TIME_LIMIT={{ vaultwarden_incomplete_2fa_time_limit }}
{% endif %}
{% if vaultwarden_password_iterations is defined %}
PASSWORD_ITERATIONS={{ vaultwarden_password_iterations }}
{% endif %}
{% if vaultwarden_password_hints_allowed is defined %}
PASSWORD_HINTS_ALLOWED={{ vaultwarden_password_hints_allowed }}
{% endif %}
{% if vaultwarden_show_password_hint is defined %}
SHOW_PASSWORD_HINT={{ vaultwarden_show_password_hint }}
{% endif %}
{% if vaultwarden_domain is defined %}
DOMAIN={{ vaultwarden_domain }}
{% endif %}
{% if vaultwarden_allowed_iframe_ancestors is defined %}
ALLOWED_IFRAME_ANCESTORS={{ vaultwarden_allowed_iframe_ancestors }}
{% endif %}
{% if vaultwarden_login_ratelimit_seconds is defined %}
LOGIN_RATELIMIT_SECONDS={{ vaultwarden_login_ratelimit_seconds }}
{% endif %}
{% if vaultwarden_login_ratelimit_max_burst is defined %}
LOGIN_RATELIMIT_MAX_BURST={{ vaultwarden_login_ratelimit_max_burst }}
{% endif %}
{% if vaultwarden_admin_ratelimit_seconds is defined %}
ADMIN_RATELIMIT_SECONDS={{ vaultwarden_admin_ratelimit_seconds }}
{% endif %}
{% if vaultwarden_admin_ratelimit_max_burst is defined %}
ADMIN_RATELIMIT_MAX_BURST={{ vaultwarden_admin_ratelimit_max_burst }}
{% endif %}
{% if vaultwarden_yubico_client_id is defined %}
YUBICO_CLIENT_ID={{ vaultwarden_yubico_client_id }}
{% endif %}
{% if vaultwarden_yubico_secret_key is defined %}
YUBICO_SECRET_KEY={{ vaultwarden_yubico_secret_key }}
{% endif %}
{% if vaultwarden_yubico_server is defined %}
YUBICO_SERVER={{ vaultwarden_yubico_server }}
{% endif %}
{% if vaultwarden_duo_ikey is defined %}
DUO_IKEY={{ vaultwarden_duo_ikey }}
{% endif %}
{% if vaultwarden_duo_skey is defined %}
DUO_SKEY={{ vaultwarden_duo_skey }}
{% endif %}
{% if vaultwarden_duo_host is defined %}
DUO_HOST={{ vaultwarden_duo_host }}
{% endif %}
{% if vaultwarden_duo_use_iframe is defined %}
DUO_USE_IFRAME={{ vaultwarden_duo_use_iframe }}
{% endif %}
{% if vaultwarden_authenticator_disable_time_drift is defined %}
AUTHENTICATOR_DISABLE_TIME_DRIFT={{ vaultwarden_authenticator_disable_time_drift }}
{% endif %}
{% if vaultwarden_rocket_address is defined %}
ROCKET_ADDRESS={{ vaultwarden_rocket_address }}
{% endif %}
{% if vaultwarden_rocket_port is defined %}
ROCKET_PORT={{ vaultwarden_rocket_port }}
{% endif %}
{% if vaultwarden_rocket_workers is defined %}
ROCKET_WORKERS={{ vaultwarden_rocket_workers }}
{% endif %}
{% if vaultwarden_rocket_tls is defined %}
ROCKET_TLS={{ vaultwarden_rocket_tls }}
{% endif %}
{% if vaultwarden_smtp_host is defined %}
SMTP_HOST={{ vaultwarden_smtp_host }}
{% endif %}
{% if vaultwarden_smtp_from is defined %}
SMTP_FROM={{ vaultwarden_smtp_from }}
{% endif %}
{% if vaultwarden_smtp_from_name is defined %}
SMTP_FROM_NAME={{ vaultwarden_smtp_from_name }}
{% endif %}
{% if vaultwarden_smtp_security is defined %}
SMTP_SECURITY={{ vaultwarden_smtp_security }}
{% endif %}
{% if vaultwarden_smtp_port is defined %}
SMTP_PORT={{ vaultwarden_smtp_port }}
{% endif %}
{% if vaultwarden_smtp_username is defined %}
SMTP_USERNAME={{ vaultwarden_smtp_username }}
{% endif %}
{% if vaultwarden_smtp_password is defined %}
SMTP_PASSWORD={{ vaultwarden_smtp_password }}
{% endif %}
{% if vaultwarden_smtp_timeout is defined %}
SMTP_TIMEOUT={{ vaultwarden_smtp_timeout }}
{% endif %}
{% if vaultwarden_smtp_auth_mechanism is defined %}
SMTP_AUTH_MECHANISM={{ vaultwarden_smtp_auth_mechanism }}
{% endif %}
{% if vaultwarden_helo_name is defined %}
HELO_NAME={{ vaultwarden_helo_name }}
{% endif %}
{% if vaultwarden_smtp_embed_images is defined %}
SMTP_EMBED_IMAGES={{ vaultwarden_smtp_embed_images }}
{% endif %}
{% if vaultwarden_smtp_debug is defined %}
SMTP_DEBUG={{ vaultwarden_smtp_debug }}
{% endif %}
{% if vaultwarden_smtp_accept_invalid_hostnames is defined %}
SMTP_ACCEPT_INVALID_HOSTNAMES={{ vaultwarden_smtp_accept_invalid_hostnames }}
{% endif %}
{% if vaultwarden_smtp_accept_invalid_certs is defined %}
SMTP_ACCEPT_INVALID_CERTS={{ vaultwarden_smtp_accept_invalid_certs }}
{% endif %}
{% if vaultwarden_require_device_email is defined %}
REQUIRE_DEVICE_EMAIL={{ vaultwarden_require_device_email }}
{% endif %}
{% if vaultwarden_hibp_api_key is defined %}
HIBP_API_KEY={{ vaultwarden_hibp_api_key }}
{% endif %}
{% if vaultwarden_push_enabled is defined %}
PUSH_ENABLED={{ vaultwarden_push_enabled }}
{% endif %}
{% if vaultwarden_push_installation_id is defined %}
PUSH_INSTALLATION_ID={{ vaultwarden_push_installation_id }}
{% endif %}
{% if vaultwarden_push_installation_key is defined %}
PUSH_INSTALLATION_KEY={{ vaultwarden_push_installation_key }}
{% endif %}
{% if vaultwarden_push_relay_uri is defined %}
PUSH_RELAY_URI={{ vaultwarden_push_relay_uri }}
{% endif %}